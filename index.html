<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-com | Reg</title>
    <link rel="icon" type="image/png" href="https://res.cloudinary.com/dglvqybdo/image/upload/v1751524325/e-commerce1_arsli8.png">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="styles.css"/>
</head>
<body>
     <div class="form-page" id="formPage">
        <div class="forms">

        <form id="registerForm">
            <h5 class="text-center">Register Form</h5>
            <label for="regUsername">User Name</label><br>
            <input type="text" placeholder="Enter Your User Name" id="regUsername"><br>
            <label for="regPassword">Password</label><br>
            <input type="password" placeholder="Enter Your Password" id="regPassword"><br>
            <div class="d-flex justify-content-center">
                <button type = "submit" class="mt-2 btn btn-primary">Register</button>
            </div>
            <p class="mt-2">Already have an account? <a href="loginapi.html">Login</a></p>
            <p id="regMsg" class="text-center"></p>
        </form>

    </div>
    </div>
    
            
         </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js" integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D" crossorigin="anonymous"></script>
<script>
    let webPage = document.getElementById("webPage")
        let formPage = document.getElementById("formPage")
        let regFormEl = document.getElementById('registerForm')
        let loginFormEl = document.getElementById("loginForm")
        let regMsgEl = document.getElementById('regMsg')
        let loginMsgEl = document.getElementById('loginMsg')

        regFormEl.addEventListener("submit" , function(event){
            event.preventDefault();

            const userName = document.getElementById("regUsername").value.trim()
            const passWord = document.getElementById('regPassword').value

            if(localStorage.getItem(userName) && passWord !== ""){
                regMsgEl.textContent = "User Already Exists!";
                regFormEl.reset();
                    setTimeout(function() {
                    window.location.href="loginapi.html"
                }, 3000)
            }
            else{
                if (userName ==="" || passWord === ""){
                    regMsgEl.textContent="Please Enter Your Credentials"
                }
                else{
                    localStorage.setItem(userName,passWord)
                    regMsgEl.textContent="Registered Successfully"
                    regFormEl.reset();
                    setTimeout(function() {
                    window.location.href="loginapi.html"
                }, 3000)
                }
            }
        })
</script>
</body>
</html>